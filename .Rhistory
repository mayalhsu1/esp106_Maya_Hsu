setwd("/Users/mayahsu/Desktop/school/environmental data science")
boston <- read.csv("week4/8443970.csv")
newyork <- read.csv("week4/8518750.csv")
baltimore <- read.csv("week4/8574680.csv")
charleston <- read.csv("week4/8665530.csv")
miami <- read.csv("week4/8723214.csv")
corpus <- read.csv("week4/8775296.csv")
knitr::opts_knit$set(root.dir = '/tmp')
setwd("/Users/mayahsu/Desktop/school/environmental data science")
boston <- read.csv("week4/8443970.csv")
newyork <- read.csv("week4/8518750.csv")
baltimore <- read.csv("week4/8574680.csv")
charleston <- read.csv("week4/8665530.csv")
miami <- read.csv("week4/8723214.csv")
corpus <- read.csv("week4/8775296.csv")
View(baltimore)
combined$Date = NULL
#Hint: you can use list.files() to get a vector of all the file names in a directory. Setting full.names=TRUE in the list.files() function will give you the full path name that can be used by read.csv
#Hint 2: you might want to create a data frame using the first csv file. Then loop through from files 2 to 6 reading in the csv file and using rbind() to attach it to the bottom of your full data frame
#Hint 3: It will be easiest to add the names of the city to the data frames immediately after reading them in, before binding everything together into a single data-frame
knitr::opts_knit$set(root.dir = '/tmp')
setwd("/Users/mayahsu/Desktop/school/environmental data science/week4")
unzip("ESP106_week4_data.zip")
files <- list.files(full.names=TRUE)
files <- list.files(pattern = '\\.csv')
tables <- lapply(files, read.csv)
tables[[1]]$city <- "boston"
tables[[2]]$city <- "newyork"
tables[[3]]$city <- "baltimore"
tables[[4]]$city <- "charleston"
tables[[5]]$city <- "miami"
tables[[6]]$city <- "corpus"
combined <- do.call(rbind, tables)
#Hint: Use paste0() to combine data and characters (i.e. the required separators "-")
date <- c()
for(i in 1:length(year)){
date <- c(date, paste0(c(combined[i, 1], combined[i, 2], 01), collapse = "-"))
}
#Hint: Use paste0() to combine data and characters (i.e. the required separators "-")
date <- c()
for(i in 1:length(combined)){
date <- c(date, paste0(c(combined[i, 1], combined[i, 2], 01), collapse = "-"))
}
date
date <- as.Date(date)
combined$Date <- date
#Hint: Use paste0() to combine data and characters (i.e. the required separators "-")
date <- c()
for(i in 1:length(combined)){
date <- c(date, paste0(c(combined[i, 1], combined[i, 2], 01), collapse = "-"))
}
date
date
length(combined)
nrow(combined)
#Hint: Use paste0() to combine data and characters (i.e. the required separators "-")
date <- c()
for(i in 1:length(nrow(combined))){
date <- c(date, paste0(c(combined[i, 1], combined[i, 2], 01), collapse = "-"))
}
date
date <- as.Date(date)
combined$Date <- date
combined$date = NULL
#Hint: Use paste0() to combine data and characters (i.e. the required separators "-")
date <- c()
for(i in 1:length(nrow(combined))){
date <- c(date, paste0(c(combined[i, 1], combined[i, 2], 01), collapse = "-"))
}
date
#Hint: Use paste0() to combine data and characters (i.e. the required separators "-")
date <- c()
for(i in 1:nrow(combined))){
#Hint: Use paste0() to combine data and characters (i.e. the required separators "-")
date <- c()
for(i in 1:nrow(combined)){
date <- c(date, paste0(c(combined[i, 1], combined[i, 2], 01), collapse = "-"))
}
date
#Hint: Use paste0() to combine data and characters (i.e. the required separators "-")
date <- c()
for(i in 1:nrow(combined)){
date <- c(date, paste0(c(combined[i, 1], combined[i, 2], 01), collapse = "-"))
}
date <- as.Date(date)
combined$Date <- date
ggplot(combined, aes(x = city, y = Highest))+
geom_boxplot()
#if you don't already have ggplot2 then install it with install.packages("ggplot2")
library(ggplot2)
ggplot(combined, aes(x = date, y = MHHW, group = city, color = city))+
geom_line()+
labs(x = "Date", y = "Mean Higher Water")+
geom_smooth(aes(x = date, y = MHHW), method="lm", inherit.aes = FALSE)
#Hint: you should only need minor modification of the code from question 4 to make this plot
ggplot(combined, aes(x = date, y = MHHW, group = city, color = city))+
geom_line()+
labs(x = "Date", y = "Mean Higher Water")+
geom_smooth(method="lm")+
facet_wrap(~city)
ggplot(combined, aes(x = city, y = Highest))+
geom_boxplot()
?which.max
knitr::opts_knit$set(root.dir = '/tmp')
setwd("/Users/mayahsu/Desktop/school/environmental data science/week4")
unzip("ESP106_week4_data.zip")
files <- list.files(full.names=TRUE)
files <- list.files(pattern = '\\.csv')
tables <- lapply(files, read.csv)
tables[[1]]$City <- "Boston"
tables[[2]]$City <- "New York"
tables[[3]]$City <- "Baltimore"
tables[[4]]$City <- "Charleston"
tables[[5]]$City <- "Miami"
tables[[6]]$City <- "Corpus Christi"
combined <- do.call(rbind, tables)
View(tables)
#Hint: Use paste0() to combine data and characters (i.e. the required separators "-")
date <- c()
for(i in 1:nrow(combined)){
date <- c(date, paste0(c(combined[i, 1], combined[i, 2], 01), collapse = "-"))
}
#Hint: Use paste0() to combine data and characters (i.e. the required separators "-")
date <- c()
for(i in 1:nrow(combined)){
date <- c(date, paste0(c(combined[i, 1], combined[i, 2], 01), collapse = "-"))
}
date <- as.Date(date)
combined$Date <- date
#if you don't already have ggplot2 then install it with install.packages("ggplot2")
library(ggplot2)
ggplot(combined, aes(x = date, y = MHHW, group = City, color = City))+
geom_line()+
labs(x = "Date", y = "Mean Higher Water")+
geom_smooth(aes(x = date, y = MHHW), method="lm", inherit.aes = FALSE)
#Hint: you should only need minor modification of the code from question 4 to make this plot
ggplot(combined, aes(x = date, y = MHHW, group = City))+
geom_line()+
labs(x = "Date", y = "Mean Higher High Water (MHHW", title = "Mean Higher High Water by City")+
geom_smooth(method="lm")+
facet_wrap(~City)
#if you don't already have ggplot2 then install it with install.packages("ggplot2")
library(ggplot2)
ggplot(combined, aes(x = date, y = MHHW, group = City, color = City))+
geom_line()+
labs(x = "Date", y = "Mean Higher High Water (meters)"+
geom_smooth(aes(x = date, y = MHHW), method="lm", inherit.aes = FALSE)
#if you don't already have ggplot2 then install it with install.packages("ggplot2")
library(ggplot2)
ggplot(combined, aes(x = date, y = MHHW, group = City, color = City))+
geom_line()+
labs(x = "Date", y = "Mean Higher High Water (meters)")+
geom_smooth(aes(x = date, y = MHHW), method="lm", inherit.aes = FALSE)
#Hint: you should only need minor modification of the code from question 4 to make this plot
ggplot(combined, aes(x = date, y = MHHW, group = City))+
geom_line()+
labs(x = "Date", y = "Mean Higher High Water (meters)", title = "Mean Higher High Water by City")+
geom_smooth(method="lm")+
facet_wrap(~City)
ggplot(combined, aes(x = City, y = Highest))+
geom_boxplot()+
labs(x = "City", y = "Height of Highest Tide Each Month", title = "Highest Tide Each Month by City")
#Hint: The which.max() function might be useful here
which.max(combined$Highest)
combined[141,]
#Hint: the forumla in your lm() function is of the form y~x where y here is MHHW and x is your date column
m <- lm(MHHW ~ Date, data = combined)
m
plot(MHHW ~ Date, data = combined)
abline(m)
coefficients(m)
summary(m)
diff(p)
#Hint: you can use list.files() to get a vector of all the file names in a directory. Setting full.names=TRUE in the list.files() function will give you the full path name that can be used by read.csv
#Hint 2: you might want to create a data frame using the first csv file. Then loop through from files 2 to 6 reading in the csv file and using rbind() to attach it to the bottom of your full data frame
#Hint 3: It will be easiest to add the names of the city to the data frames immediately after reading them in, before binding everything together into a single data-frame
knitr::opts_knit$set(root.dir = '/tmp')
setwd("/Users/mayahsu/Desktop/school/environmental data science/week4")
unzip("ESP106_week4_data.zip")
files <- list.files(full.names=TRUE)
files <- list.files(pattern = '\\.csv')
tables <- lapply(files, read.csv)
tables[[1]]$City <- "Boston"
tables[[2]]$City <- "New York"
tables[[3]]$City <- "Baltimore"
tables[[4]]$City <- "Charleston"
tables[[5]]$City <- "Miami"
tables[[6]]$City <- "Corpus Christi"
combined <- do.call(rbind, tables)
#Hint: Use paste0() to combine data and characters (i.e. the required separators "-")
date <- c()
for(i in 1:nrow(combined)){
date <- c(date, paste0(c(combined[i, 1], combined[i, 2], 01), collapse = "-"))
}
date <- as.Date(date)
combined$Date <- date
#if you don't already have ggplot2 then install it with install.packages("ggplot2")
library(ggplot2)
ggplot(combined, aes(x = date, y = MHHW, group = City, color = City))+
geom_line()+
labs(x = "Date", y = "Mean Higher High Water (meters)")+
geom_smooth(aes(x = date, y = MHHW), method="lm", inherit.aes = FALSE)
#Hint: you should only need minor modification of the code from question 4 to make this plot
ggplot(combined, aes(x = date, y = MHHW, group = City))+
geom_line()+
labs(x = "Date", y = "Mean Higher High Water (meters)", title = "Mean Higher High Water by City")+
geom_smooth(method="lm")+
facet_wrap(~City)
ggplot(combined, aes(x = City, y = Highest))+
geom_boxplot()+
labs(x = "City", y = "Height of Highest Tide Each Month", title = "Highest Tide Each Month by City")
#Hint: The which.max() function might be useful here
which.max(combined$Highest)
combined[141,]
#Hint: the forumla in your lm() function is of the form y~x where y here is MHHW and x is your date column
m <- lm(MHHW ~ Date, data = combined)
m
plot(MHHW ~ Date, data = combined)
abline(m)
coefficients(m)
summary(m)
diff(p)
p = predict(m, combined[c(1, nrow(combined)), ])
diff(p)
print(2.732e-05 * (3650))
library(knitr)
tab <- cbind(Name=c("speciesid", "speciesname", "taxon", "conservation status", "listed"), Description = c("unique ID", "scientific name", "Species group", "Conservation status in North America, according to   [NatureServe](https://www.natureserve.org/conservation-tools/conservation-rank-calculator): 1 = Critically Imperiled; 2 = Imperiled; 3 = Vulnerable; 4 = Apparently Secure; 5 = Secure; UNK = Unknown; Prob. Extinct = Probably Extinct; Extinct", "Is the species listed as threatened or endangered under the US Endangered Species Act: 0 = No; 1 = Yes"))
knitr::kable(tab, caption ='Table 1. Variables in "consevationdata.csv"' )
knitr::opts_knit$set(root.dir = '/tmp')
setwd("/Users/mayahsu/Desktop/school/environmental data science/midterm")
conservation <- read.csv("conservationdata.csv")
f <- as.factor(conservation$taxon)
f <- as.factor(conservation$taxon)
f <- as.factor(conservation$taxon)
knitr::opts_knit$set(root.dir = '/tmp')
setwd("/Users/mayahsu/Desktop/school/environmental data science/midterm")
conservation <- read.csv("conservationdata.csv")
setwd("/Users/mayahsu/Desktop/school/environmental data science/midterm")
knitr::opts_knit$set(root.dir = '/tmp')
setwd("/Users/mayahsu/Desktop/school/environmental data science/midterm")
knitr::opts_knit$set(root.dir = '/tmp')
setwd("/Users/mayahsu/Desktop/school/environmental data science/midterm")
conservation <- read.csv("conservationdata.csv")
conservation <- read.csv("conservationdata.csv")
getwd()
knitr::opts_knit$set(root.dir = '/tmp')
setwd("/Users/mayahsu/Desktop/school/environmental data science/midterm")
knitr::opts_knit$set(root.dir = '/tmp')
setwd("/Users/mayahsu/Desktop/school/environmental data science/esp106_Maya_Hsu")
conservation <- read.csv("midterm/conservationdata.csv")
conservation <- read.csv("midterm/conservationdata.csv")
library(knitr)
knitr::opts_knit$set(root.dir = '/tmp')
setwd("/Users/mayahsu/Desktop/school/environmental data science/midterm")
conservation <- read.csv("conservationdata.csv")
listed <- subset(conservation, listed == 1)
nrow(listed)
f <- as.factor(conservation$taxon)
tax_group <- levels(f)
Number <- c(nrow(subset(conservation, taxon == "Amphibians")), nrow(subset(conservation, taxon == "Birds")), nrow(subset(conservation, taxon == "Fishes")), nrow(subset(conservation, taxon == "Fungi")), nrow(subset(conservation, taxon == "Invertebrates")), nrow(subset(conservation, taxon == "Mammals")), nrow(subset(conservation, taxon == "Plants")), nrow(subset(conservation, taxon == "Protists")), nrow(subset(conservation, taxon == "Reptiles")))
count <- table(conservation$taxon)
relative <- Number/nrow(conservation)
table <- table <- data.frame(cbind(taxa_group, Number, relative))
table <- table <- data.frame(cbind(tax_group, Number, relative))
table
table <- data.frame(cbind(tax_group, Number, relative))
table
View(table)
str(table)
total <- sum(Number)
percentage <- Number/total
table1 <- data.frame(cbind(count, percentage))
View(table1)
View(table)
View(table1)
View(table)
knitr::opts_chunk$set(echo = TRUE)
setwd("/Users/mayahsu/Desktop/school/environmental data science/")
air <- read.csv("week3/airpollution.csv")
inequality <- read.csv("week3/gdppercapiandgini.csv")
i <- "India" == air$Entity
air_india <- air[i, ]
out_ind <- air_india$Deaths_Ozone + air_india$Deaths_PM
air_india <- cbind(air_india, out_ind)
air_germany <- subset(air, Entity == "Germany")
out_ger <- air_germany$Deaths_Ozone + air_germany$Deaths_PM
air_germany <- cbind(air_germany, out_ger)
View(air_india)
colnames(air_India)[1] <- "country"
i <- "India" == air$Entity
air_india <- air[i, ]
out_ind <- air_india$Deaths_Ozone + air_india$Deaths_PM
air_india <- cbind(air_india, out_ind)
colnames(air_India)[1] <- "country"
colnames(air_india)[1] <- "country"
listed <- subset(conservation, listed == 1)
nrow(listed)
f <- as.factor(conservation$taxon)
tax_group <- levels(f)
Number <- c(nrow(subset(conservation, taxon == "Amphibians")), nrow(subset(conservation, taxon == "Birds")), nrow(subset(conservation, taxon == "Fishes")), nrow(subset(conservation, taxon == "Fungi")), nrow(subset(conservation, taxon == "Invertebrates")), nrow(subset(conservation, taxon == "Mammals")), nrow(subset(conservation, taxon == "Plants")), nrow(subset(conservation, taxon == "Protists")), nrow(subset(conservation, taxon == "Reptiles")))
count <- table(conservation$taxon)
relative <- Number/nrow(conservation)
table <- data.frame(cbind(tax_group, Number, relative))
table
total <- sum(Number)
percentage <- Number/total
table1 <- data.frame(cbind(count, percentage))
table1
library(tidyverse)
ggplot(conservation, aes(x = taxon, fill = conservation_status))+
geom_bar(stat="count")+
theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))+
labs(x = "Taxonomic Group", y = "Number of Species", title = "Conservation Status by Taxonomic Group")+
scale_fill_discrete(name="Conservation Status")
count <- table(conservation$taxon)
count
count <- table(conservation$taxon)
data.frame(count)
count <- table(conservation$taxon)
percentage <- Number/nrow(conservation)
table <- cbind(data.frame(count, percentage))
View(table)
table <- data.frame(count)
table
table$percentage <- table$Freq/nrow(conservation)
table
colnames(conservation)[1:3] <- c("Taxanomic Group", "Number of Species", "Percentage")
table
colnames(conservation)[1:3] <- c("Taxanomic Group", "Number of Species", "Percentage")
colnames(conservation) <- c("Taxanomic Group","Number of Species","Percentage")
table
conservation <- read.csv("conservationdata.csv")
knitr::opts_knit$set(root.dir = '/tmp')
setwd("/Users/mayahsu/Desktop/school/environmental data science/midterm")
conservation <- read.csv("conservationdata.csv")
listed <- subset(conservation, listed == 1)
nrow(listed)
f <- as.factor(conservation$taxon)
tax_group <- levels(f)
Number <- c(nrow(subset(conservation, taxon == "Amphibians")), nrow(subset(conservation, taxon == "Birds")), nrow(subset(conservation, taxon == "Fishes")), nrow(subset(conservation, taxon == "Fungi")), nrow(subset(conservation, taxon == "Invertebrates")), nrow(subset(conservation, taxon == "Mammals")), nrow(subset(conservation, taxon == "Plants")), nrow(subset(conservation, taxon == "Protists")), nrow(subset(conservation, taxon == "Reptiles")))
relative <- Number/nrow(conservation)
table <- data.frame(cbind(tax_group, Number, relative))
table
count <- table(conservation$taxon)
table <- data.frame(count)
table$percentage <- table$Freq/nrow(conservation)
table
colnames(table) <- c("Taxanomic Group","Number of Species","Percentage")
table
table
View(table)
count <- table(conservation$taxon)
table <- data.frame(count)
table$percentage <- table$Freq/nrow(conservation)
table
colnames(table) <- c("Taxanomic Group","Number of Species","Percentage")
table
