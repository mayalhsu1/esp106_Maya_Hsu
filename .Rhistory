labs(x = "Date", y = "Mean Higher High Water (meters)")+
geom_smooth(aes(x = date, y = MHHW), method="lm", inherit.aes = FALSE)
#Hint: you should only need minor modification of the code from question 4 to make this plot
ggplot(combined, aes(x = date, y = MHHW, group = City))+
geom_line()+
labs(x = "Date", y = "Mean Higher High Water (meters)", title = "Mean Higher High Water by City")+
geom_smooth(method="lm")+
facet_wrap(~City)
ggplot(combined, aes(x = City, y = Highest))+
geom_boxplot()+
labs(x = "City", y = "Height of Highest Tide Each Month", title = "Highest Tide Each Month by City")
#Hint: The which.max() function might be useful here
which.max(combined$Highest)
combined[141,]
#Hint: the forumla in your lm() function is of the form y~x where y here is MHHW and x is your date column
m <- lm(MHHW ~ Date, data = combined)
m
plot(MHHW ~ Date, data = combined)
abline(m)
coefficients(m)
summary(m)
diff(p)
p = predict(m, combined[c(1, nrow(combined)), ])
diff(p)
print(2.732e-05 * (3650))
library(knitr)
tab <- cbind(Name=c("speciesid", "speciesname", "taxon", "conservation status", "listed"), Description = c("unique ID", "scientific name", "Species group", "Conservation status in North America, according to   [NatureServe](https://www.natureserve.org/conservation-tools/conservation-rank-calculator): 1 = Critically Imperiled; 2 = Imperiled; 3 = Vulnerable; 4 = Apparently Secure; 5 = Secure; UNK = Unknown; Prob. Extinct = Probably Extinct; Extinct", "Is the species listed as threatened or endangered under the US Endangered Species Act: 0 = No; 1 = Yes"))
knitr::kable(tab, caption ='Table 1. Variables in "consevationdata.csv"' )
knitr::opts_knit$set(root.dir = '/tmp')
setwd("/Users/mayahsu/Desktop/school/environmental data science/midterm")
conservation <- read.csv("conservationdata.csv")
f <- as.factor(conservation$taxon)
f <- as.factor(conservation$taxon)
f <- as.factor(conservation$taxon)
knitr::opts_knit$set(root.dir = '/tmp')
setwd("/Users/mayahsu/Desktop/school/environmental data science/midterm")
conservation <- read.csv("conservationdata.csv")
setwd("/Users/mayahsu/Desktop/school/environmental data science/midterm")
knitr::opts_knit$set(root.dir = '/tmp')
setwd("/Users/mayahsu/Desktop/school/environmental data science/midterm")
knitr::opts_knit$set(root.dir = '/tmp')
setwd("/Users/mayahsu/Desktop/school/environmental data science/midterm")
conservation <- read.csv("conservationdata.csv")
conservation <- read.csv("conservationdata.csv")
getwd()
knitr::opts_knit$set(root.dir = '/tmp')
setwd("/Users/mayahsu/Desktop/school/environmental data science/midterm")
knitr::opts_knit$set(root.dir = '/tmp')
setwd("/Users/mayahsu/Desktop/school/environmental data science/esp106_Maya_Hsu")
conservation <- read.csv("midterm/conservationdata.csv")
conservation <- read.csv("midterm/conservationdata.csv")
library(knitr)
knitr::opts_knit$set(root.dir = '/tmp')
setwd("/Users/mayahsu/Desktop/school/environmental data science/midterm")
conservation <- read.csv("conservationdata.csv")
listed <- subset(conservation, listed == 1)
nrow(listed)
f <- as.factor(conservation$taxon)
tax_group <- levels(f)
Number <- c(nrow(subset(conservation, taxon == "Amphibians")), nrow(subset(conservation, taxon == "Birds")), nrow(subset(conservation, taxon == "Fishes")), nrow(subset(conservation, taxon == "Fungi")), nrow(subset(conservation, taxon == "Invertebrates")), nrow(subset(conservation, taxon == "Mammals")), nrow(subset(conservation, taxon == "Plants")), nrow(subset(conservation, taxon == "Protists")), nrow(subset(conservation, taxon == "Reptiles")))
count <- table(conservation$taxon)
relative <- Number/nrow(conservation)
table <- table <- data.frame(cbind(taxa_group, Number, relative))
table <- table <- data.frame(cbind(tax_group, Number, relative))
table
table <- data.frame(cbind(tax_group, Number, relative))
table
View(table)
str(table)
total <- sum(Number)
percentage <- Number/total
table1 <- data.frame(cbind(count, percentage))
View(table1)
View(table)
View(table1)
View(table)
knitr::opts_chunk$set(echo = TRUE)
setwd("/Users/mayahsu/Desktop/school/environmental data science/")
air <- read.csv("week3/airpollution.csv")
inequality <- read.csv("week3/gdppercapiandgini.csv")
i <- "India" == air$Entity
air_india <- air[i, ]
out_ind <- air_india$Deaths_Ozone + air_india$Deaths_PM
air_india <- cbind(air_india, out_ind)
air_germany <- subset(air, Entity == "Germany")
out_ger <- air_germany$Deaths_Ozone + air_germany$Deaths_PM
air_germany <- cbind(air_germany, out_ger)
View(air_india)
colnames(air_India)[1] <- "country"
i <- "India" == air$Entity
air_india <- air[i, ]
out_ind <- air_india$Deaths_Ozone + air_india$Deaths_PM
air_india <- cbind(air_india, out_ind)
colnames(air_India)[1] <- "country"
colnames(air_india)[1] <- "country"
listed <- subset(conservation, listed == 1)
nrow(listed)
f <- as.factor(conservation$taxon)
tax_group <- levels(f)
Number <- c(nrow(subset(conservation, taxon == "Amphibians")), nrow(subset(conservation, taxon == "Birds")), nrow(subset(conservation, taxon == "Fishes")), nrow(subset(conservation, taxon == "Fungi")), nrow(subset(conservation, taxon == "Invertebrates")), nrow(subset(conservation, taxon == "Mammals")), nrow(subset(conservation, taxon == "Plants")), nrow(subset(conservation, taxon == "Protists")), nrow(subset(conservation, taxon == "Reptiles")))
count <- table(conservation$taxon)
relative <- Number/nrow(conservation)
table <- data.frame(cbind(tax_group, Number, relative))
table
total <- sum(Number)
percentage <- Number/total
table1 <- data.frame(cbind(count, percentage))
table1
library(tidyverse)
ggplot(conservation, aes(x = taxon, fill = conservation_status))+
geom_bar(stat="count")+
theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))+
labs(x = "Taxonomic Group", y = "Number of Species", title = "Conservation Status by Taxonomic Group")+
scale_fill_discrete(name="Conservation Status")
count <- table(conservation$taxon)
count
count <- table(conservation$taxon)
data.frame(count)
count <- table(conservation$taxon)
percentage <- Number/nrow(conservation)
table <- cbind(data.frame(count, percentage))
View(table)
table <- data.frame(count)
table
table$percentage <- table$Freq/nrow(conservation)
table
colnames(conservation)[1:3] <- c("Taxanomic Group", "Number of Species", "Percentage")
table
colnames(conservation)[1:3] <- c("Taxanomic Group", "Number of Species", "Percentage")
colnames(conservation) <- c("Taxanomic Group","Number of Species","Percentage")
table
conservation <- read.csv("conservationdata.csv")
knitr::opts_knit$set(root.dir = '/tmp')
setwd("/Users/mayahsu/Desktop/school/environmental data science/midterm")
conservation <- read.csv("conservationdata.csv")
listed <- subset(conservation, listed == 1)
nrow(listed)
f <- as.factor(conservation$taxon)
tax_group <- levels(f)
Number <- c(nrow(subset(conservation, taxon == "Amphibians")), nrow(subset(conservation, taxon == "Birds")), nrow(subset(conservation, taxon == "Fishes")), nrow(subset(conservation, taxon == "Fungi")), nrow(subset(conservation, taxon == "Invertebrates")), nrow(subset(conservation, taxon == "Mammals")), nrow(subset(conservation, taxon == "Plants")), nrow(subset(conservation, taxon == "Protists")), nrow(subset(conservation, taxon == "Reptiles")))
relative <- Number/nrow(conservation)
table <- data.frame(cbind(tax_group, Number, relative))
table
count <- table(conservation$taxon)
table <- data.frame(count)
table$percentage <- table$Freq/nrow(conservation)
table
colnames(table) <- c("Taxanomic Group","Number of Species","Percentage")
table
table
View(table)
count <- table(conservation$taxon)
table <- data.frame(count)
table$percentage <- table$Freq/nrow(conservation)
table
colnames(table) <- c("Taxanomic Group","Number of Species","Percentage")
table
library(knitr)
tab <- cbind(Name=c("speciesid", "speciesname", "taxon", "conservation status", "listed"), Description = c("unique ID", "scientific name", "Species group", "Conservation status in North America, according to   [NatureServe](https://www.natureserve.org/conservation-tools/conservation-rank-calculator): 1 = Critically Imperiled; 2 = Imperiled; 3 = Vulnerable; 4 = Apparently Secure; 5 = Secure; UNK = Unknown; Prob. Extinct = Probably Extinct; Extinct", "Is the species listed as threatened or endangered under the US Endangered Species Act: 0 = No; 1 = Yes"))
knitr::kable(tab, caption ='Table 1. Variables in "consevationdata.csv"' )
knitr::opts_knit$set(root.dir = '/tmp')
setwd("/Users/mayahsu/Desktop/school/environmental data science/midterm")
conservation <- read.csv("conservationdata.csv")
knitr::opts_knit$set(root.dir = '/tmp')
setwd("/Users/mayahsu/Desktop/school/environmental data science/midterm")
conservation <- read.csv("conservationdata.csv")
listed <- subset(conservation, listed == 1)
nrow(listed)/nrow(conservation)
count <- table(conservation$taxon)
count
table <- data.frame(count)
table
table$percentage <- table$Freq/nrow(conservation)
colnames(table) <- c("Taxanomic Group","Number of Species","Percentage")
table
library(tidyverse)
ggplot(conservation, aes(x = taxon, fill = conservation_status))+
geom_bar(stat="count")+
theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))+
labs(x = "Taxonomic Group", y = "Number of Species", title = "Conservation Status by Taxonomic Group")+
scale_fill_discrete(name = "Conservation Status", labels = c("Critically Imperiled", "Imperiled", "Vulnerable", "Apparently Secured", "Secure", "Extinct", "Probably Extinct", "Unknown", "NA"))
knitr::opts_knit$set(root.dir = '/tmp')
setwd("/Users/mayahsu/Desktop/school/environmental data science/midterm")
spending <- read.csv("spendingdata.csv")
options(scipen = 999)
spending_2016 <- subset(spending, Year == 2016)
ggplot(spending_2016, aes(x = spending))+
geom_histogram()+geom_density(addjust = 0.1)
labs(x = "Spending (in dollars)", y = "Species", title = "Distribution of Spending on Different Species in 2016")
spending_2016 <- spending_2016[order(spending_2016$spending, decreasing = TRUE),]
most <- spending_2016[1:3,]
most
species <- merge(conservation, spending, by = "speciesid")
names <- subset(species, speciesid == c(1632, 4486,1684))
unique(names$speciesname)
species1 <- subset(species, spending != 0)
species1$log_spending <- log(species1$spending)
options(scipen = 999)
ggplot(species1, aes(x = log_spending))+
geom_histogram()
labs(x = "Spending (in dollars)", y = "Frequency", title = "Distribution of Spending on Different Species")
#data from all years
options(scipen = 999)
spending1_2016 <- subset(species1, Year == 2016)
ggplot(spending1_2016, aes(x = log_spending))+
geom_histogram()
labs(x = "Spending (in dollars)", y = "Frequency", title = "Distribution of Spending on Different Species in 2016")
#2016 data
model <- lm(log_spending ~ taxon, data = species1)
summary(model)
options(scipen = 999)
spending_2016 <- subset(spending, Year == 2016)
ggplot(spending_2016, aes(x = spending))+
geom_histogram()
labs(x = "Spending (in dollars)", y = "Species", title = "Distribution of Spending on Different Species in 2016")
options(scipen = 999)
spending_2016 <- subset(spending, Year == 2016)
ggplot(spending_2016, aes(x = spending))+
geom_bar()
labs(x = "Spending (in dollars)", y = "Species", title = "Distribution of Spending on Different Species in 2016")
options(scipen = 999)
spending_2016 <- subset(spending, Year == 2016)
ggplot(spending_2016, aes(x = spending))+
geom_histogram()
labs(x = "Spending (in dollars)", y = "Species", title = "Distribution of Spending on Different Species in 2016")
spending_2016 <- subset(spending, Year == 2016)
ggplot(spending_2016, aes(x = spending))+
geom_histogram()
labs(x = "Spending (in dollars)", y = "Species", title = "Distribution of Spending on Different Species in 2016")
options(scipen = 999)
spending_2016 <- subset(spending, Year == 2016)
ggplot(spending_2016, aes(x = spending))+
geom_histogram()
labs(x = "Spending (in dollars)", y = "Species", title = "Distribution of Spending on Different Species in 2016")
ggplot(spending_2016, aes(x = speciesid, y = spending))+
geom_histogram()
ggplot(spending_2016, aes(x = speciesid, y = spending))+
geom_bar(stat = "count")
ggplot(spending_2016, aes(x = speciesid, y = spending))+
geom_bar(stat = "count")
ggplot(spending_2016, aes(x = speciesid, y = spending))+
geom_bar(stat="count")
ggplot(spending_2016, aes(x = speciesid, y = spending))+
geom_col()
ggplot(spending_2016, aes(x = speciesid, y = spending))+
geom_col()+ylim(0, 100000000)
ggplot(spending_2016, aes(x = reorder(speciesid, -spending) y = spending))+
ggplot(spending_2016, aes(x = reorder(speciesid, -spending), y = spending))+
geom_col()+
```
ggplot(spending_2016, aes(x = reorder(speciesid, -spending), y = spending))+
geom_col()
ggplot(spending_2016, aes(x = reorder(speciesid, -spending), y = spending))+
geom_col()+theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))
options(scipen = 999)
spending_2016 <- subset(spending, Year == 2016)
ggplot(spending_2016, aes(x = spending))+
geom_histogram()
labs(x = "Spending (in dollars)", y = "Species", title = "Distribution of Spending on Different Species in 2016")
options(scipen = 999)
spending_2016 <- subset(spending, Year == 2016)
ggplot(spending_2016, aes(x = spending))+
geom_density()
labs(x = "Spending (in dollars)", y = "Species", title = "Distribution of Spending on Different Species in 2016")
options(scipen = 999)
spending_2016 <- subset(spending, Year == 2016)
ggplot(spending_2016, aes(x = spending))+
geom_histogram()
labs(x = "Spending (in dollars)", y = "Species", title = "Distribution of Spending on Different Species in 2016")
options(scipen = 999)
spending_2016 <- subset(spending, Year == 2016)
ggplot(spending_2016, aes(x = spending))+
geom_histogram()
labs(x = "Spending (in dollars)", y = "Species", title = "Distribution of Spending on Different Species in 2016")
options(scipen = 999)
options(scipen = 999)
options(scipen = 999)
options(scipen = 999)
spending_2016 <- subset(spending, Year == 2016)
ggplot(spending_2016, aes(x = spending))+
geom_histogram()
spending_2016 <- subset(spending, Year == 2016)
ggplot(spending_2016, aes(x = spending))+
geom_density()
ggplot(spending_2016, aes(x = spending))+
geom_histogram()+
labs(x = "Spending (in dollars)", y = "Species", title = "Distribution of Spending on Different Species in 2016")
ggplot(spending_2016, aes(x = spending))+
geom_density()+
labs(x = "Spending (in dollars)", y = "Species", title = "Distribution of Spending on Different Species in 2016")
options(scipen = 999)
spending_2016 <- subset(spending, Year == 2016)
ggplot(spending_2016, aes(x = spending))+
geom_density()+
labs(x = "Spending (in dollars)", y = "Species", title = "Distribution of Spending on Different Species in 2016")
ggplot(spending_2016, aes(x = spending))+
geom_histogram()+
labs(x = "Spending (in dollars)", y = "Species", title = "Distribution of Spending on Different Species in 2016")
ggplot(spending_2016, aes(x = spending))+
geom_histogram()+
labs(x = "Spending (in dollars)", y = "Species", title = "Distribution of Spending on Different Species in 2016")
ggplot(spending_2016, aes(x = spending))+
geom_histogram()+
labs(x = "Spending (in dollars)", y = "Species", title = "Distribution of Spending on Different Species in 2016")
options(scipen = 999)
spending_2016 <- subset(spending, Year == 2016)
ggplot(spending_2016, aes(x = spending))+
geom_density()+
labs(x = "Spending (in dollars)", y = "Species", title = "Distribution of Spending on Different Species in 2016")
options(scipen = 999)
spending_2016 <- subset(spending, Year == 2016)
ggplot(spending_2016, aes(x = spending))+
geom_density()
options(scipen = 999)
spending_2016 <- subset(spending, Year == 2016)
ggplot(spending_2016, aes(x = spending))+
geom_()
options(scipen = 999)
spending_2016 <- subset(spending, Year == 2016)
ggplot(spending_2016, aes(x = spending))+
geom_histogram()
labs(x = "Spending (in dollars)", y = "Species", title = "Distribution of Spending on Different Species in 2016")
options(scipen = 999)
spending_2016 <- subset(spending, Year == 2016)
ggplot(spending_2016, aes(x = spending))+
geom_density()
labs(x = "Spending (in dollars)", y = "Species", title = "Distribution of Spending on Different Species in 2016")
options(scipen = 999)
spending_2016 <- subset(spending, Year == 2016)
ggplot(spending_2016, aes(x = spending))+
geom_histogram()
labs(x = "Spending (in dollars)", y = "Species", title = "Distribution of Spending on Different Species in 2016")
options(scipen = 999)
spending_2016 <- subset(spending, Year == 2016)
ggplot(spending_2016, aes(x = spending))+
geom_histogram(binwidth = 3)
labs(x = "Spending (in dollars)", y = "Species", title = "Distribution of Spending on Different Species in 2016")
options(scipen = 999)
spending_2016 <- subset(spending, Year == 2016)
ggplot(spending_2016, aes(x = spending))+
geom_histogram(binwidth = 80)
labs(x = "Spending (in dollars)", y = "Species", title = "Distribution of Spending on Different Species in 2016")
options(scipen = 999)
spending_2016 <- subset(spending, Year == 2016)
ggplot(spending_2016, aes(x = spending))+
geom_histogram(bins = 80)
labs(x = "Spending (in dollars)", y = "Species", title = "Distribution of Spending on Different Species in 2016")
options(scipen = 999)
spending_2016 <- subset(spending, Year == 2016)
ggplot(spending_2016, aes(x = spending))+
geom_histogram(bins = 3)
labs(x = "Spending (in dollars)", y = "Species", title = "Distribution of Spending on Different Species in 2016")
options(scipen = 999)
spending_2016 <- subset(spending, Year == 2016)
ggplot(spending_2016, aes(x = spending))+
geom_histogram(bins = 100)
labs(x = "Spending (in dollars)", y = "Species", title = "Distribution of Spending on Different Species in 2016")
options(scipen = 999)
spending_2016 <- subset(spending, Year == 2016)
ggplot(spending_2016, aes(x = spending))+
geom_histogram(bins = 20)
labs(x = "Spending (in dollars)", y = "Species", title = "Distribution of Spending on Different Species in 2016")
options(scipen = 999)
spending_2016 <- subset(spending, Year == 2016)
ggplot(spending_2016, aes(x = spending))+
geom_density()
labs(x = "Spending (in dollars)", y = "Species", title = "Distribution of Spending on Different Species in 2016")
count <- table(conservation$taxon)
count
table <- data.frame(count)
table
table$percentage <- table$Freq/nrow(conservation)
colnames(table) <- c("Taxanomic Group","Number of Species","Percentage")
count <- table(conservation$taxon)
count
table <- data.frame(count)
table
table$percentage <- table$Freq/nrow(conservation)
colnames(table) <- c("Taxanomic Group","Number of Species","Percentage")
table
library(tidyverse)
ggplot(conservation, aes(x = taxon, fill = conservation_status))+
geom_bar(stat="count")+
theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))+
labs(x = "Taxonomic Group", y = "Number of Species", title = "Conservation Status by Taxonomic Group")+
scale_fill_discrete(name = "Conservation Status", labels = c("Critically Imperiled", "Imperiled", "Vulnerable", "Apparently Secured", "Secure", "Extinct", "Probably Extinct", "Unknown", "NA"))
options(scipen = 999) #getting rid of scientific notation
spending_2016 <- subset(spending, Year == 2016) #creating new df with 2016 data
ggplot(spending_2016, aes(x = spending))+
geom_density()
labs(x = "Spending (in dollars)", y = "Species", title = "Distribution of Spending on Different Species in 2016")
#using geom_density()
ggplot(spending_2016, aes(x = spending))+
geom_histotram()
options(scipen = 999) #getting rid of scientific notation
spending_2016 <- subset(spending, Year == 2016) #creating new df with 2016 data
ggplot(spending_2016, aes(x = spending))+
geom_density()
labs(x = "Spending (in dollars)", y = "Species", title = "Distribution of Spending on Different Species in 2016")
#using geom_density()
ggplot(spending_2016, aes(x = spending))+
geom_histogram()
labs(x = "Spending (in dollars)", y = "Species", title = "Distribution of Spending on Different Species in 2016")
#using geom_histogram()
options(scipen = 999) #getting rid of scientific notation
spending_2016 <- subset(spending, Year == 2016) #creating new df with 2016 data
ggplot(spending_2016, aes(x = spending))+
geom_density()+
labs(x = "Spending (in dollars)", y = "Species", title = "Distribution of Spending on Different Species in 2016")
#using geom_density()
ggplot(spending_2016, aes(x = spending))+
geom_histogram()
labs(x = "Spending (in dollars)", y = "Species", title = "Distribution of Spending on Different Species in 2016")
#using geom_histogram()
options(scipen = 999) #getting rid of scientific notation
spending_2016 <- subset(spending, Year == 2016) #creating new df with 2016 data
ggplot(spending_2016, aes(x = spending))+
geom_density()+
labs(x = "Spending (in dollars)", y = "Species", title = "Distribution of Spending on Different Species in 2016")
#using geom_density()
ggplot(spending_2016, aes(x = spending))+
geom_histogram()+
labs(x = "Spending (in dollars)", y = "Species", title = "Distribution of Spending on Different Species in 2016")
#using geom_histogram()
options(scipen = 999)
ggplot(species1, aes(x = log_spending))+
geom_histogram()+
labs(x = "Spending (in dollars)", y = "Frequency", title = "Distribution of Spending on Different Species")
#data from all years
options(scipen = 999)
spending1_2016 <- subset(species1, Year == 2016)
ggplot(spending1_2016, aes(x = log_spending))+
geom_histogram()+
labs(x = "Spending (in dollars)", y = "Frequency", title = "Distribution of Spending on Different Species in 2016")
#2016 data
ggplot(spending1_2016, aes(x = log_spending))+
geom_density()+
labs(x = "Spending (in dollars)", y = "Frequency", title = "Distribution of Spending on Different Species in 2016")
ggplot(spending1_2016, aes(x = log_spending))+
geom_histogram()+
labs(x = "Spending (in dollars)", y = "Frequency", title = "Distribution of Spending on Different Species in 2016")
library(knitr)
tab <- cbind(Name=c("speciesid", "speciesname", "taxon", "conservation status", "listed"), Description = c("unique ID", "scientific name", "Species group", "Conservation status in North America, according to   [NatureServe](https://www.natureserve.org/conservation-tools/conservation-rank-calculator): 1 = Critically Imperiled; 2 = Imperiled; 3 = Vulnerable; 4 = Apparently Secure; 5 = Secure; UNK = Unknown; Prob. Extinct = Probably Extinct; Extinct", "Is the species listed as threatened or endangered under the US Endangered Species Act: 0 = No; 1 = Yes"))
knitr::kable(tab, caption ='Table 1. Variables in "consevationdata.csv"' )
knitr::opts_knit$set(root.dir = '/tmp')
setwd("/Users/mayahsu/Desktop/school/environmental data science/midterm")
conservation <- read.csv("conservationdata.csv")
spending <- read.csv("spendingdata.csv")
library(knitr)
tab <- cbind(Name=c("speciesid", "speciesname", "taxon", "conservation status", "listed"), Description = c("unique ID", "scientific name", "Species group", "Conservation status in North America, according to   [NatureServe](https://www.natureserve.org/conservation-tools/conservation-rank-calculator): 1 = Critically Imperiled; 2 = Imperiled; 3 = Vulnerable; 4 = Apparently Secure; 5 = Secure; UNK = Unknown; Prob. Extinct = Probably Extinct; Extinct", "Is the species listed as threatened or endangered under the US Endangered Species Act: 0 = No; 1 = Yes"))
knitr::kable(tab, caption ='Table 1. Variables in "consevationdata.csv"' )
knitr::opts_knit$set(root.dir = '/tmp')
setwd("/Users/mayahsu/Desktop/school/environmental data science/midterm")
conservation <- read.csv("conservationdata.csv")
spending <- read.csv("spendingdata.csv")
listed <- subset(conservation, listed == 1) #creating new df with species that are listed
nrow(listed)
nrow(listed)/nrow(conservation) #percentage of listed species
count <- table(conservation$taxon) #frequency table for taxon variable
count
table <- data.frame(count) #turning table into df
table
table$percentage <- table$Freq/nrow(conservation) #adding relative frequency column to df
colnames(table) <- c("Taxanomic Group","Number of Species","Percentage") #renaming columns
table
library(tidyverse)
ggplot(conservation, aes(x = taxon, fill = conservation_status))+
geom_bar(stat="count")+
theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))+
labs(x = "Taxonomic Group", y = "Number of Species", title = "Conservation Status by Taxonomic Group")+
scale_fill_discrete(name = "Conservation Status", labels = c("Critically Imperiled", "Imperiled", "Vulnerable", "Apparently Secured", "Secure", "Extinct", "Probably Extinct", "Unknown", "NA"))
options(scipen = 999) #getting rid of scientific notation
spending_2016 <- subset(spending, Year == 2016) #creating new df with 2016 data
ggplot(spending_2016, aes(x = spending))+
geom_density()+
labs(x = "Spending (in dollars)", y = "Species", title = "Distribution of Spending on Different Species in 2016")
#using geom_density()
ggplot(spending_2016, aes(x = spending))+
geom_histogram()+
labs(x = "Spending (in dollars)", y = "Species", title = "Distribution of Spending on Different Species in 2016")
#using geom_histogram()
spending_2016 <- spending_2016[order(spending_2016$spending, decreasing = TRUE),] #reordering the data so that the species are listed in descending order of spending
most <- spending_2016[1:3,] #indexing for the first 3 species, which have the highest spending
most
species <- merge(conservation, spending, by = "speciesid") #merging conservation and spending dfs
names <- subset(species, speciesid == c(1632, 4486,1684)) #creating a new df with only the species ids that had the most spending in 2016
unique(names$speciesname) #getting the unique species names for the new df
species1 <- subset(species, spending != 0) #creating a new df without species with no spending
species1$log_spending <- log(species1$spending) #adding a new column with log of spending
options(scipen = 999)
ggplot(species1, aes(x = log_spending))+
geom_histogram()+
labs(x = "Spending (in dollars)", y = "Frequency", title = "Distribution of Spending on Different Species")
#data from all years
options(scipen = 999)
spending1_2016 <- subset(species1, Year == 2016)
ggplot(spending1_2016, aes(x = log_spending))+
geom_histogram()+
labs(x = "Spending (in dollars)", y = "Frequency", title = "Distribution of Spending on Different Species in 2016")
#2016 data
model <- lm(log_spending ~ taxon, data = species1) #creating a linear model with taxonomic group as the dependent variable and logged spending as the dependent variable
summary(model) #generating summary of regression
library(knitr)
knitr::opts_knit$set(root.dir = '/tmp')
setwd("/Users/mayahsu/Desktop/school/environmental data science/midterm")
conservation <- read.csv("conservationdata.csv")
spending <- read.csv("spendingdata.csv")
knitr::opts_chunk$set(echo = TRUE)
path <- "/Users/mayahsu/Desktop/school/environmental data science/"
knitr::opts_knit$set(root.dir = path)
setwd(path)
housing <- read.csv("ACSCP1Y2021.CP04-2023-03-06T213420.csv")
