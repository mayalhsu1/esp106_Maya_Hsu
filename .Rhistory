setwd("/Users/mayahsu/Desktop/school/environmental data science")
boston <- read.csv("week4/8443970.csv")
newyork <- read.csv("week4/8518750.csv")
baltimore <- read.csv("week4/8574680.csv")
charleston <- read.csv("week4/8665530.csv")
miami <- read.csv("week4/8723214.csv")
corpus <- read.csv("week4/8775296.csv")
knitr::opts_knit$set(root.dir = '/tmp')
setwd("/Users/mayahsu/Desktop/school/environmental data science")
boston <- read.csv("week4/8443970.csv")
newyork <- read.csv("week4/8518750.csv")
baltimore <- read.csv("week4/8574680.csv")
charleston <- read.csv("week4/8665530.csv")
miami <- read.csv("week4/8723214.csv")
corpus <- read.csv("week4/8775296.csv")
View(baltimore)
combined$Date = NULL
#Hint: you can use list.files() to get a vector of all the file names in a directory. Setting full.names=TRUE in the list.files() function will give you the full path name that can be used by read.csv
#Hint 2: you might want to create a data frame using the first csv file. Then loop through from files 2 to 6 reading in the csv file and using rbind() to attach it to the bottom of your full data frame
#Hint 3: It will be easiest to add the names of the city to the data frames immediately after reading them in, before binding everything together into a single data-frame
knitr::opts_knit$set(root.dir = '/tmp')
setwd("/Users/mayahsu/Desktop/school/environmental data science/week4")
unzip("ESP106_week4_data.zip")
files <- list.files(full.names=TRUE)
files <- list.files(pattern = '\\.csv')
tables <- lapply(files, read.csv)
tables[[1]]$city <- "boston"
tables[[2]]$city <- "newyork"
tables[[3]]$city <- "baltimore"
tables[[4]]$city <- "charleston"
tables[[5]]$city <- "miami"
tables[[6]]$city <- "corpus"
combined <- do.call(rbind, tables)
#Hint: Use paste0() to combine data and characters (i.e. the required separators "-")
date <- c()
for(i in 1:length(year)){
date <- c(date, paste0(c(combined[i, 1], combined[i, 2], 01), collapse = "-"))
}
#Hint: Use paste0() to combine data and characters (i.e. the required separators "-")
date <- c()
for(i in 1:length(combined)){
date <- c(date, paste0(c(combined[i, 1], combined[i, 2], 01), collapse = "-"))
}
date
date <- as.Date(date)
combined$Date <- date
#Hint: Use paste0() to combine data and characters (i.e. the required separators "-")
date <- c()
for(i in 1:length(combined)){
date <- c(date, paste0(c(combined[i, 1], combined[i, 2], 01), collapse = "-"))
}
date
date
length(combined)
nrow(combined)
#Hint: Use paste0() to combine data and characters (i.e. the required separators "-")
date <- c()
for(i in 1:length(nrow(combined))){
date <- c(date, paste0(c(combined[i, 1], combined[i, 2], 01), collapse = "-"))
}
date
date <- as.Date(date)
combined$Date <- date
combined$date = NULL
#Hint: Use paste0() to combine data and characters (i.e. the required separators "-")
date <- c()
for(i in 1:length(nrow(combined))){
date <- c(date, paste0(c(combined[i, 1], combined[i, 2], 01), collapse = "-"))
}
date
#Hint: Use paste0() to combine data and characters (i.e. the required separators "-")
date <- c()
for(i in 1:nrow(combined))){
#Hint: Use paste0() to combine data and characters (i.e. the required separators "-")
date <- c()
for(i in 1:nrow(combined)){
date <- c(date, paste0(c(combined[i, 1], combined[i, 2], 01), collapse = "-"))
}
date
#Hint: Use paste0() to combine data and characters (i.e. the required separators "-")
date <- c()
for(i in 1:nrow(combined)){
date <- c(date, paste0(c(combined[i, 1], combined[i, 2], 01), collapse = "-"))
}
date <- as.Date(date)
combined$Date <- date
ggplot(combined, aes(x = city, y = Highest))+
geom_boxplot()
#if you don't already have ggplot2 then install it with install.packages("ggplot2")
library(ggplot2)
ggplot(combined, aes(x = date, y = MHHW, group = city, color = city))+
geom_line()+
labs(x = "Date", y = "Mean Higher Water")+
geom_smooth(aes(x = date, y = MHHW), method="lm", inherit.aes = FALSE)
#Hint: you should only need minor modification of the code from question 4 to make this plot
ggplot(combined, aes(x = date, y = MHHW, group = city, color = city))+
geom_line()+
labs(x = "Date", y = "Mean Higher Water")+
geom_smooth(method="lm")+
facet_wrap(~city)
ggplot(combined, aes(x = city, y = Highest))+
geom_boxplot()
?which.max
